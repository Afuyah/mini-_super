{% extends "base.html" %}
{% block content %}
<h2>Edit Product: {{ product.name }}</h2>
<form method="POST" action="{{ url_for('stock.edit_product', id=product.id) }}">
    <div>
        <label for="name">Product Name:</label>
        <input type="text" id="name" name="name" value="{{ product.name }}" required>
    </div>
    <div>
        <label for="cost_price">Cost Price (Ksh):</label>
        <input type="number" id="cost_price" name="cost_price" value="{{ product.cost_price }}" step="0.01" required>
    </div>
    <div>
        <label for="selling_price">Selling Price (Ksh):</label>
        <input type="number" id="selling_price" name="selling_price" value="{{ product.selling_price }}" step="0.01" required>
    </div>
    <div>
        <label for="stock">Stock:</label>
        <input type="number" id="stock" name="stock" value="{{ product.stock }}" required>
    </div>
    <div>
        <label for="category">Category:</label>
        <select id="category" name="category" required>
            {% for category in categories %}
            <option value="{{ category.id }}" {% if category.id == product.category_id %}selected{% endif %}>{{ category.name }}</option>
            {% endfor %}
        </select>
    </div>
    <div>
        <label for="supplier">Supplier (optional):</label>
        <select id="supplier" name="supplier">
            <option value="">Select Supplier</option>
            {% for supplier in suppliers %}
            <option value="{{ supplier.id }}" {% if supplier.id == product.supplier_id %}selected{% endif %}>{{ supplier.name }}</option>
            {% endfor %}
        </select>
    </div>
    <button type="submit">Update Product</button>
    <a href="{{ url_for('stock.products') }}">Cancel</a>
</form>
{% endblock %}
